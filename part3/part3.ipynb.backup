{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Python „Éê„Éº„Ç∏„Éß„É≥: 3.13.2 (main, Feb 25 2025, 05:25:21) [GCC 12.2.0]\n",
      "Requirement already satisfied: llama-index in /usr/local/lib/python3.13/site-packages (0.12.24)\n",
      "Requirement already satisfied: pymupdf in /usr/local/lib/python3.13/site-packages (1.25.4)\n",
      "Requirement already satisfied: pandas in /usr/local/lib/python3.13/site-packages (2.2.3)\n",
      "Requirement already satisfied: openai in /usr/local/lib/python3.13/site-packages (1.66.0)\n",
      "Requirement already satisfied: llama-index-agent-openai<0.5.0,>=0.4.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.4.6)\n",
      "Requirement already satisfied: llama-index-cli<0.5.0,>=0.4.1 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.4.1)\n",
      "Requirement already satisfied: llama-index-core<0.13.0,>=0.12.24 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.12.24.post1)\n",
      "Requirement already satisfied: llama-index-embeddings-openai<0.4.0,>=0.3.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.3.1)\n",
      "Requirement already satisfied: llama-index-indices-managed-llama-cloud>=0.4.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.6.9)\n",
      "Requirement already satisfied: llama-index-llms-openai<0.4.0,>=0.3.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.3.25)\n",
      "Requirement already satisfied: llama-index-multi-modal-llms-openai<0.5.0,>=0.4.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.4.3)\n",
      "Requirement already satisfied: llama-index-program-openai<0.4.0,>=0.3.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.3.1)\n",
      "Requirement already satisfied: llama-index-question-gen-openai<0.4.0,>=0.3.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.3.0)\n",
      "Requirement already satisfied: llama-index-readers-file<0.5.0,>=0.4.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.4.6)\n",
      "Requirement already satisfied: llama-index-readers-llama-parse>=0.4.0 in /usr/local/lib/python3.13/site-packages (from llama-index) (0.4.0)\n",
      "Requirement already satisfied: nltk>3.8.1 in /usr/local/lib/python3.13/site-packages (from llama-index) (3.9.1)\n",
      "Requirement already satisfied: numpy>=1.26.0 in /usr/local/lib/python3.13/site-packages (from pandas) (2.2.3)\n",
      "Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.13/site-packages (from pandas) (2.9.0.post0)\n",
      "Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.13/site-packages (from pandas) (2025.1)\n",
      "Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.13/site-packages (from pandas) (2025.1)\n",
      "Requirement already satisfied: anyio<5,>=3.5.0 in /usr/local/lib/python3.13/site-packages (from openai) (4.8.0)\n",
      "Requirement already satisfied: distro<2,>=1.7.0 in /usr/local/lib/python3.13/site-packages (from openai) (1.9.0)\n",
      "Requirement already satisfied: httpx<1,>=0.23.0 in /usr/local/lib/python3.13/site-packages (from openai) (0.28.1)\n",
      "Requirement already satisfied: jiter<1,>=0.4.0 in /usr/local/lib/python3.13/site-packages (from openai) (0.9.0)\n",
      "Requirement already satisfied: pydantic<3,>=1.9.0 in /usr/local/lib/python3.13/site-packages (from openai) (2.10.6)\n",
      "Requirement already satisfied: sniffio in /usr/local/lib/python3.13/site-packages (from openai) (1.3.1)\n",
      "Requirement already satisfied: tqdm>4 in /usr/local/lib/python3.13/site-packages (from openai) (4.67.1)\n",
      "Requirement already satisfied: typing-extensions<5,>=4.11 in /usr/local/lib/python3.13/site-packages (from openai) (4.12.2)\n",
      "Requirement already satisfied: idna>=2.8 in /usr/local/lib/python3.13/site-packages (from anyio<5,>=3.5.0->openai) (3.10)\n",
      "Requirement already satisfied: certifi in /usr/local/lib/python3.13/site-packages (from httpx<1,>=0.23.0->openai) (2025.1.31)\n",
      "Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.13/site-packages (from httpx<1,>=0.23.0->openai) (1.0.7)\n",
      "Requirement already satisfied: h11<0.15,>=0.13 in /usr/local/lib/python3.13/site-packages (from httpcore==1.*->httpx<1,>=0.23.0->openai) (0.14.0)\n",
      "Requirement already satisfied: PyYAML>=6.0.1 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (6.0.2)\n",
      "Requirement already satisfied: SQLAlchemy>=1.4.49 in /usr/local/lib/python3.13/site-packages (from SQLAlchemy[asyncio]>=1.4.49->llama-index-core<0.13.0,>=0.12.24->llama-index) (2.0.38)\n",
      "Requirement already satisfied: aiohttp<4.0.0,>=3.8.6 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (3.11.13)\n",
      "Requirement already satisfied: dataclasses-json in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (0.6.7)\n",
      "Requirement already satisfied: deprecated>=1.2.9.3 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (1.2.18)\n",
      "Requirement already satisfied: dirtyjson<2.0.0,>=1.0.8 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (1.0.8)\n",
      "Requirement already satisfied: filetype<2.0.0,>=1.2.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (1.2.0)\n",
      "Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (2024.12.0)\n",
      "Requirement already satisfied: nest-asyncio<2.0.0,>=1.5.8 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (1.6.0)\n",
      "Requirement already satisfied: networkx>=3.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (3.4.2)\n",
      "Requirement already satisfied: pillow>=9.0.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (11.1.0)\n",
      "Requirement already satisfied: requests>=2.31.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (2.32.3)\n",
      "Requirement already satisfied: tenacity!=8.4.0,<10.0.0,>=8.2.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (9.0.0)\n",
      "Requirement already satisfied: tiktoken>=0.3.3 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (0.9.0)\n",
      "Requirement already satisfied: typing-inspect>=0.8.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (0.9.0)\n",
      "Requirement already satisfied: wrapt in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.24->llama-index) (1.17.2)\n",
      "Requirement already satisfied: llama-cloud<0.2.0,>=0.1.13 in /usr/local/lib/python3.13/site-packages (from llama-index-indices-managed-llama-cloud>=0.4.0->llama-index) (0.1.14)\n",
      "Requirement already satisfied: beautifulsoup4<5.0.0,>=4.12.3 in /usr/local/lib/python3.13/site-packages (from llama-index-readers-file<0.5.0,>=0.4.0->llama-index) (4.13.3)\n",
      "Requirement already satisfied: pypdf<6.0.0,>=5.1.0 in /usr/local/lib/python3.13/site-packages (from llama-index-readers-file<0.5.0,>=0.4.0->llama-index) (5.4.0)\n",
      "Requirement already satisfied: striprtf<0.0.27,>=0.0.26 in /usr/local/lib/python3.13/site-packages (from llama-index-readers-file<0.5.0,>=0.4.0->llama-index) (0.0.26)\n",
      "Requirement already satisfied: llama-parse>=0.5.0 in /usr/local/lib/python3.13/site-packages (from llama-index-readers-llama-parse>=0.4.0->llama-index) (0.6.4.post1)\n",
      "Requirement already satisfied: click in /usr/local/lib/python3.13/site-packages (from nltk>3.8.1->llama-index) (8.1.8)\n",
      "Requirement already satisfied: joblib in /usr/local/lib/python3.13/site-packages (from nltk>3.8.1->llama-index) (1.4.2)\n",
      "Requirement already satisfied: regex>=2021.8.3 in /usr/local/lib/python3.13/site-packages (from nltk>3.8.1->llama-index) (2024.11.6)\n",
      "Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.13/site-packages (from pydantic<3,>=1.9.0->openai) (0.7.0)\n",
      "Requirement already satisfied: pydantic-core==2.27.2 in /usr/local/lib/python3.13/site-packages (from pydantic<3,>=1.9.0->openai) (2.27.2)\n",
      "Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.13/site-packages (from python-dateutil>=2.8.2->pandas) (1.17.0)\n",
      "Requirement already satisfied: aiohappyeyeballs>=2.3.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (2.5.0)\n",
      "Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (1.3.2)\n",
      "Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (25.1.0)\n",
      "Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (1.5.0)\n",
      "Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (6.1.0)\n",
      "Requirement already satisfied: propcache>=0.2.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (0.3.0)\n",
      "Requirement already satisfied: yarl<2.0,>=1.17.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.24->llama-index) (1.18.3)\n",
      "Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.13/site-packages (from beautifulsoup4<5.0.0,>=4.12.3->llama-index-readers-file<0.5.0,>=0.4.0->llama-index) (2.6)\n",
      "Requirement already satisfied: llama-cloud-services>=0.6.4 in /usr/local/lib/python3.13/site-packages (from llama-parse>=0.5.0->llama-index-readers-llama-parse>=0.4.0->llama-index) (0.6.5)\n",
      "Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.13/site-packages (from requests>=2.31.0->llama-index-core<0.13.0,>=0.12.24->llama-index) (3.4.1)\n",
      "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.13/site-packages (from requests>=2.31.0->llama-index-core<0.13.0,>=0.12.24->llama-index) (2.3.0)\n",
      "Requirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.13/site-packages (from SQLAlchemy>=1.4.49->SQLAlchemy[asyncio]>=1.4.49->llama-index-core<0.13.0,>=0.12.24->llama-index) (3.1.1)\n",
      "Requirement already satisfied: mypy-extensions>=0.3.0 in /usr/local/lib/python3.13/site-packages (from typing-inspect>=0.8.0->llama-index-core<0.13.0,>=0.12.24->llama-index) (1.0.0)\n",
      "Requirement already satisfied: marshmallow<4.0.0,>=3.18.0 in /usr/local/lib/python3.13/site-packages (from dataclasses-json->llama-index-core<0.13.0,>=0.12.24->llama-index) (3.26.1)\n",
      "Requirement already satisfied: python-dotenv<2.0.0,>=1.0.1 in /usr/local/lib/python3.13/site-packages (from llama-cloud-services>=0.6.4->llama-parse>=0.5.0->llama-index-readers-llama-parse>=0.4.0->llama-index) (1.0.1)\n",
      "Requirement already satisfied: packaging>=17.0 in /usr/local/lib/python3.13/site-packages (from marshmallow<4.0.0,>=3.18.0->dataclasses-json->llama-index-core<0.13.0,>=0.12.24->llama-index) (24.2)\n",
      "\u001b[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.\u001b[0m\u001b[33m\n",
      "\u001b[0mCollecting llama-index-readers-json\n",
      "  Downloading llama_index_readers_json-0.3.0-py3-none-any.whl.metadata (2.1 kB)\n",
      "Requirement already satisfied: llama-index-core<0.13.0,>=0.12.0 in /usr/local/lib/python3.13/site-packages (from llama-index-readers-json) (0.12.24.post1)\n",
      "Requirement already satisfied: PyYAML>=6.0.1 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (6.0.2)\n",
      "Requirement already satisfied: SQLAlchemy>=1.4.49 in /usr/local/lib/python3.13/site-packages (from SQLAlchemy[asyncio]>=1.4.49->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.0.38)\n",
      "Requirement already satisfied: aiohttp<4.0.0,>=3.8.6 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.11.13)\n",
      "Requirement already satisfied: dataclasses-json in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.6.7)\n",
      "Requirement already satisfied: deprecated>=1.2.9.3 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.2.18)\n",
      "Requirement already satisfied: dirtyjson<2.0.0,>=1.0.8 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.0.8)\n",
      "Requirement already satisfied: filetype<2.0.0,>=1.2.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.2.0)\n",
      "Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2024.12.0)\n",
      "Requirement already satisfied: httpx in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.28.1)\n",
      "Requirement already satisfied: nest-asyncio<2.0.0,>=1.5.8 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.6.0)\n",
      "Requirement already satisfied: networkx>=3.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.4.2)\n",
      "Requirement already satisfied: nltk>3.8.1 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.9.1)\n",
      "Requirement already satisfied: numpy in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.2.3)\n",
      "Requirement already satisfied: pillow>=9.0.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (11.1.0)\n",
      "Requirement already satisfied: pydantic>=2.8.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.10.6)\n",
      "Requirement already satisfied: requests>=2.31.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.32.3)\n",
      "Requirement already satisfied: tenacity!=8.4.0,<10.0.0,>=8.2.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (9.0.0)\n",
      "Requirement already satisfied: tiktoken>=0.3.3 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.9.0)\n",
      "Requirement already satisfied: tqdm<5.0.0,>=4.66.1 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (4.67.1)\n",
      "Requirement already satisfied: typing-extensions>=4.5.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (4.12.2)\n",
      "Requirement already satisfied: typing-inspect>=0.8.0 in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.9.0)\n",
      "Requirement already satisfied: wrapt in /usr/local/lib/python3.13/site-packages (from llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.17.2)\n",
      "Requirement already satisfied: aiohappyeyeballs>=2.3.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.5.0)\n",
      "Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.3.2)\n",
      "Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (25.1.0)\n",
      "Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.5.0)\n",
      "Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (6.1.0)\n",
      "Requirement already satisfied: propcache>=0.2.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.3.0)\n",
      "Requirement already satisfied: yarl<2.0,>=1.17.0 in /usr/local/lib/python3.13/site-packages (from aiohttp<4.0.0,>=3.8.6->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.18.3)\n",
      "Requirement already satisfied: click in /usr/local/lib/python3.13/site-packages (from nltk>3.8.1->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (8.1.8)\n",
      "Requirement already satisfied: joblib in /usr/local/lib/python3.13/site-packages (from nltk>3.8.1->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.4.2)\n",
      "Requirement already satisfied: regex>=2021.8.3 in /usr/local/lib/python3.13/site-packages (from nltk>3.8.1->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2024.11.6)\n",
      "Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.13/site-packages (from pydantic>=2.8.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.7.0)\n",
      "Requirement already satisfied: pydantic-core==2.27.2 in /usr/local/lib/python3.13/site-packages (from pydantic>=2.8.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.27.2)\n",
      "Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.13/site-packages (from requests>=2.31.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.4.1)\n",
      "Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.13/site-packages (from requests>=2.31.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.10)\n",
      "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.13/site-packages (from requests>=2.31.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2.3.0)\n",
      "Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.13/site-packages (from requests>=2.31.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (2025.1.31)\n",
      "Requirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.13/site-packages (from SQLAlchemy>=1.4.49->SQLAlchemy[asyncio]>=1.4.49->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.1.1)\n",
      "Requirement already satisfied: mypy-extensions>=0.3.0 in /usr/local/lib/python3.13/site-packages (from typing-inspect>=0.8.0->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.0.0)\n",
      "Requirement already satisfied: marshmallow<4.0.0,>=3.18.0 in /usr/local/lib/python3.13/site-packages (from dataclasses-json->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (3.26.1)\n",
      "Requirement already satisfied: anyio in /usr/local/lib/python3.13/site-packages (from httpx->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (4.8.0)\n",
      "Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.13/site-packages (from httpx->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.0.7)\n",
      "Requirement already satisfied: h11<0.15,>=0.13 in /usr/local/lib/python3.13/site-packages (from httpcore==1.*->httpx->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (0.14.0)\n",
      "Requirement already satisfied: packaging>=17.0 in /usr/local/lib/python3.13/site-packages (from marshmallow<4.0.0,>=3.18.0->dataclasses-json->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (24.2)\n",
      "Requirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.13/site-packages (from anyio->httpx->llama-index-core<0.13.0,>=0.12.0->llama-index-readers-json) (1.3.1)\n",
      "Downloading llama_index_readers_json-0.3.0-py3-none-any.whl (3.9 kB)\n",
      "Installing collected packages: llama-index-readers-json\n",
      "Successfully installed llama-index-readers-json-0.3.0\n",
      "\u001b[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.\u001b[0m\u001b[33m\n",
      "\u001b[0m\u001b[31mERROR: Could not find a version that satisfies the requirement llama-index-readers-pymupdf (from versions: none)\u001b[0m\u001b[31m\n",
      "\u001b[0m\u001b[31mERROR: No matching distribution found for llama-index-readers-pymupdf\u001b[0m\u001b[31m\n",
      "\u001b[0m‚úÖ „Åô„Åπ„Å¶„ÅÆ„É©„Ç§„Éñ„É©„É™„ÅåÊ≠£Â∏∏„Å´„Ç§„É≥„Éù„Éº„Éà„Åï„Çå„Åæ„Åó„ÅüÔºÅ\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "Creating json from Arrow format: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 23/23 [00:00<00:00, 32.05ba/s]\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ JSONL „Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü: JaGovFaqs-22k.jsonl\n",
      "‚úÖ PDF „Éï„Ç°„Ç§„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü: /mnt/data/00zentai.pdf\n"
     ]
    }
   ],
   "source": [
    "### üìå 1. Áí∞Â¢É„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó\n",
    "\n",
    "# Python „ÅÆ„Éê„Éº„Ç∏„Éß„É≥Á¢∫Ë™ç\n",
    "import sys\n",
    "print(f\"Python „Éê„Éº„Ç∏„Éß„É≥: {sys.version}\")\n",
    "\n",
    "# ÂøÖË¶Å„Å™„É©„Ç§„Éñ„É©„É™„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´ÔºàÂøÖË¶Å„Å™„ÇâÂÆüË°åÔºâ\n",
    "!pip install llama-index pymupdf pandas openai\n",
    "!pip install llama-index-readers-json\n",
    "!pip install llama-index-readers-pymupdf\n",
    "\n",
    "# „É©„Ç§„Éñ„É©„É™„ÅÆ„Ç§„É≥„Éù„Éº„Éà\n",
    "import llama_index\n",
    "\n",
    "import fitz  # pymupdf\n",
    "import pandas as pd\n",
    "import openai\n",
    "\n",
    "print(\"‚úÖ „Åô„Åπ„Å¶„ÅÆ„É©„Ç§„Éñ„É©„É™„ÅåÊ≠£Â∏∏„Å´„Ç§„É≥„Éù„Éº„Éà„Åï„Çå„Åæ„Åó„ÅüÔºÅ\")\n",
    "\n",
    "### üìå 2. „Éá„Éº„Çø„ÅÆÊ∫ñÂÇô\n",
    "\n",
    "# JSONL „Éï„Ç°„Ç§„É´„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÔºà„Åô„Åß„Å´ÂèñÂæóÊ∏à„Åø„Å™„Çâ„Çπ„Ç≠„ÉÉ„ÉóÔºâ\n",
    "from datasets import load_dataset\n",
    "\n",
    "dataset = load_dataset(\"matsuxr/JaGovFaqs-22k\")\n",
    "dataset[\"train\"].to_json(\"JaGovFaqs-22k.jsonl\", orient=\"records\", lines=True)\n",
    "print(\"‚úÖ JSONL „Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü: JaGovFaqs-22k.jsonl\")\n",
    "\n",
    "# PDF „Éï„Ç°„Ç§„É´„ÅÆ„Éë„ÇπÔºàDocker ÂÜÖ„ÅÆ„Éë„ÇπÔºâ\n",
    "pdf_path = \"/mnt/data/00zentai.pdf\"\n",
    "\n",
    "# PDF „ÅåÊ≠£„Åó„Åè„Éû„Ç¶„É≥„Éà„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç\n",
    "import os\n",
    "if os.path.exists(pdf_path):\n",
    "    print(f\"‚úÖ PDF „Éï„Ç°„Ç§„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü: {pdf_path}\")\n",
    "else:\n",
    "    print(f\"üö® PDF „Éï„Ç°„Ç§„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì: {pdf_path}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.3.0\n"
     ]
    }
   ],
   "source": [
    "import importlib.metadata\n",
    "print(importlib.metadata.version(\"llama-index-readers-json\"))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ JSONL „Éï„Ç°„Ç§„É´„ÅÆ„Éâ„Ç≠„É•„É°„É≥„ÉàÊï∞: 22794\n",
      "üìÑ ÊúÄÂàù„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà: Doc ID: 8858847c-ed45-4542-9cb5-9e0e617fd490\n",
      "Text: \"Question\": \"ÂÖ¨ÂÖ±Â∑•‰∫ã„Å´„Å§„ÅÑ„Å¶‰ºöË®àÊ§úÊüªÈô¢„ÅØ„Å©„ÅÆ„Çà„ÅÜ„Å´Ê§úÊüª„Çí„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„Åô„Åã„ÄÇ\", \"Answer\": \"Ê§úÊüª„Å´ÂΩì„Åü„Å£\n",
      "„Å¶„ÅØ„ÄÅÂõΩ„ÅåË°å„ÅÜÂ∑•‰∫ã„ÇÑÂú∞ÊñπÂÖ¨ÂÖ±Âõ£‰Ωì„ÅåÂõΩ„ÅÆË£úÂä©Èáë„ÅßË°å„ÅÜÂ∑•‰∫ã„Å™„Å©„Å´„Å§„ÅÑ„Å¶„ÄÅÂ∑•‰∫ã„Å´Èñ¢„Åô„Çã‰ºöË®àÁµåÁêÜÈù¢„Å†„Åë„Åß„ÅØ„Å™„Åè„ÄÅÂ∑•‰∫ã„ÅÆË®≠Ë®à„ÄÅÁ©çÁÆó„ÄÅÊñΩÂ∑•„Å´„Å§„ÅÑ„Å¶ÂÆüÂú∞„Å´\n",
      "Ëµ¥„ÅÑ„Å¶Ê§úÊüª„Çí„Åó„ÄÅ‰∏çÈÅ©Âàá„Å™‰∫ãÊÖã„ÅÆÊòØÊ≠£„ÇíÂõ≥„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\\n„ÄÄ‰ºöË®àÊ§úÊüªÈô¢„Åß„ÅØ„ÄÅÂÆüÂú∞„Å´Ëµ¥„ÅÑ„Å¶Ë®≠Ë®à„ÇÑÂ∑•‰∫ãË≤ª„ÅÆÁ©çÁÆó„Å´„Å§„ÅÑ„Å¶„ÄÅÂü∫Á§éË≥áÊñô„ÇíË¶ã„Å™„Åå„ÇâÊãÖÂΩìËÄÖ„ÅÆË™¨\n",
      "Êòé„ÇíËÅû„ÅÑ„Åü„Çä„ÄÅÂÆåÊàê„Åó„ÅüÊñΩË®≠Á≠â„Å´„Å§„ÅÑ„Å¶„ÄÅ„Ç≥„É≥„ÇØ„É™„Éº„Éà„ÅÆÂº∑Â∫¶„ÇíÊ∏¨ÂÆö„Åô„ÇãÊ©üÂô®„ÇÑ„ÄÅË∂ÖÈü≥Ê≥¢„ÇÑÈõªÁ£ÅÊ≥¢„ÇíÁî®„ÅÑ„ÅüÊé¢ÂÇ∑Âô®„ÄÅÈâÑÁ≠ãÊé¢Áü•Âô®„Å™„Å©„ÅÆÈùûÁ†¥Â£äÊ§úÊüªË£ÖÁΩÆ„Å™„Å©„Çí\n",
      "‰Ωø„Å£„Å¶„ÄÅ„Ç≥„É≥„ÇØ„É™„Éº„Éà„ÅÆÂº∑Â∫¶„ÇÑÈâÑÁ≠ã„ÅÆ‰ΩçÁΩÆ„ÄÅÂ§™„Åï„ÄÅÊï∞„Å™„Å©„ÇíÁ¢∫Ë™ç„Åó„Åü„Çä„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\\n„ÄÄ„Åæ„Åü„ÄÅÂ∑•‰∫ãÁÆáÊâÄ„Å´„Å™„Çì„Çâ„Åã„ÅÆÁï∞Â∏∏„ÅåË™ç„ÇÅ„Çâ„Çå„Åü„Çä„ÄÅË®≠Ë®à„Å®Áõ∏ÈÅï„Åó\n",
      "„Å¶„ÅÑ„Çã...\n"
     ]
    }
   ],
   "source": [
    "from llama_index.readers.json import JSONReader  # JSONReader „Çí‰Ωø„ÅÜ\n",
    "\n",
    "# JSONL „Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø\n",
    "jsonl_path = \"JaGovFaqs-22k.jsonl\"\n",
    "jsonl_reader = JSONReader(is_jsonl=True)\n",
    "jsonl_documents = jsonl_reader.load_data(jsonl_path)\n",
    "\n",
    "print(f\"‚úÖ JSONL „Éï„Ç°„Ç§„É´„ÅÆ„Éâ„Ç≠„É•„É°„É≥„ÉàÊï∞: {len(jsonl_documents)}\")\n",
    "print(f\"üìÑ ÊúÄÂàù„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà: {jsonl_documents[0]}\")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ API „Ç≠„Éº„ÅåÊ≠£Â∏∏„Å´Ë®≠ÂÆö„Åï„Çå„Åæ„Åó„ÅüÔºÅÔºàË°®Á§∫„ÅØÁúÅÁï•Ôºâ\n"
     ]
    }
   ],
   "source": [
    "import os\n",
    "import getpass\n",
    "\n",
    "# API„Ç≠„Éº„Çí„É¶„Éº„Ç∂„ÉºÂÖ•Âäõ„ÅßÂèñÂæó\n",
    "os.environ[\"OPENAI_API_KEY\"] = getpass.getpass(\"üîë OpenAI API Key: \")\n",
    "\n",
    "# „Å°„ÇÉ„Çì„Å®Ë®≠ÂÆö„Åï„Çå„Åü„ÅãÁ¢∫Ë™çÔºàÁí∞Â¢ÉÂ§âÊï∞„Å´„Çª„ÉÉ„Éà„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÔºâ\n",
    "if \"OPENAI_API_KEY\" in os.environ:\n",
    "    print(\"‚úÖ API „Ç≠„Éº„ÅåÊ≠£Â∏∏„Å´Ë®≠ÂÆö„Åï„Çå„Åæ„Åó„ÅüÔºÅÔºàË°®Á§∫„ÅØÁúÅÁï•Ôºâ\")\n",
    "else:\n",
    "    print(\"üö® API „Ç≠„Éº„ÅÆË®≠ÂÆö„Å´Â§±Êïó„Åó„Åæ„Åó„ÅüÔºÅ\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ API „Ç≠„Éº„ÅÆÂèñÂæó„Å´ÊàêÂäüÔºÅÔºàË°®Á§∫„ÅØÁúÅÁï•Ôºâ\n"
     ]
    }
   ],
   "source": [
    "import os\n",
    "\n",
    "# Áí∞Â¢ÉÂ§âÊï∞„Åå„Å°„ÇÉ„Çì„Å®Ë®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç\n",
    "api_key = os.getenv(\"OPENAI_API_KEY\")\n",
    "\n",
    "if api_key:\n",
    "    print(\"‚úÖ API „Ç≠„Éº„ÅÆÂèñÂæó„Å´ÊàêÂäüÔºÅÔºàË°®Á§∫„ÅØÁúÅÁï•Ôºâ\")\n",
    "else:\n",
    "    print(\"üö® API „Ç≠„Éº„ÅåÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„ÅüÔºÅ\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ OpenAI Embedding „É¢„Éá„É´„ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÂÆå‰∫ÜÔºÅ\n"
     ]
    }
   ],
   "source": [
    "from llama_index.embeddings.openai import OpenAIEmbedding\n",
    "\n",
    "# OpenAI Embedding „ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó\n",
    "embed_model = OpenAIEmbedding()\n",
    "\n",
    "print(\"‚úÖ OpenAI Embedding „É¢„Éá„É´„ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÂÆå‰∫ÜÔºÅ\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ JSONL „Éá„Éº„Çø„Çí LlamaIndex „Å´„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ „Éâ„Ç≠„É•„É°„É≥„ÉàÊï∞: 22794\n"
     ]
    }
   ],
   "source": [
    "from llama_index.core import Document\n",
    "from llama_index.core.storage.docstore import SimpleDocumentStore\n",
    "\n",
    "# LlamaIndex Áî®„ÅÆ„Éâ„Ç≠„É•„É°„É≥„ÉàÂΩ¢Âºè„Å´Â§âÊèõ\n",
    "jsonl_docs = [Document(text=str(doc)) for doc in jsonl_documents]\n",
    "\n",
    "# „Éâ„Ç≠„É•„É°„É≥„Éà„Çπ„Éà„Ç¢„Çí‰ΩúÊàê\n",
    "doc_store = SimpleDocumentStore()\n",
    "doc_store.add_documents(jsonl_docs)\n",
    "\n",
    "print(f\"‚úÖ JSONL „Éá„Éº„Çø„Çí LlamaIndex „Å´„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ „Éâ„Ç≠„É•„É°„É≥„ÉàÊï∞: {len(jsonl_docs)}\")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ PDF „Éá„Éº„Çø„Çí LlamaIndex „Å´„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ „Éâ„Ç≠„É•„É°„É≥„ÉàÊï∞: 320\n"
     ]
    }
   ],
   "source": [
    "# PDF „Éá„Éº„Çø„Çí LlamaIndex „ÅÆ„Éâ„Ç≠„É•„É°„É≥„ÉàÂΩ¢Âºè„Å´Â§âÊèõ\n",
    "pdf_docs = [Document(text=str(doc)) for doc in pdf_documents]\n",
    "\n",
    "# JSONL „Éá„Éº„Çø„Å®Áµ±Âêà\n",
    "doc_store.add_documents(pdf_docs)\n",
    "\n",
    "print(f\"‚úÖ PDF „Éá„Éº„Çø„Çí LlamaIndex „Å´„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ „Éâ„Ç≠„É•„É°„É≥„ÉàÊï∞: {len(pdf_docs)}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ „Éá„Éº„Çø„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰ΩúÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\n"
     ]
    }
   ],
   "source": [
    "from llama_index.core import VectorStoreIndex\n",
    "\n",
    "# `SimpleDocumentStore` „Å´‰øùÂ≠ò„Åó„Åü„Éâ„Ç≠„É•„É°„É≥„Éà„ÅÆ„Ç≠„Éº„ÇíÂèñÂæó„Åó„ÄÅ„Åù„Çå„Å´Âü∫„Å•„ÅÑ„Å¶„Éâ„Ç≠„É•„É°„É≥„Éà„ÇíÂèñÂæó\n",
    "all_documents = [doc_store.get_document(doc_id) for doc_id in doc_store.docs.keys()]\n",
    "\n",
    "# „Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„Çí‰ΩúÊàê\n",
    "index = VectorStoreIndex.from_documents(all_documents)\n",
    "\n",
    "print(\"‚úÖ „Éá„Éº„Çø„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰ΩúÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ „Éá„Éº„Çø„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰ΩúÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\n"
     ]
    }
   ],
   "source": [
    "from llama_index.core import VectorStoreIndex\n",
    "\n",
    "# „Åô„Åπ„Å¶„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„Çí‰∏ÄÊã¨ÂèñÂæó\n",
    "all_documents = list(doc_store.docs.values())  # `.values()` „ÇíÁõ¥Êé•„É™„Çπ„ÉàÂåñ„Åô„Çã\n",
    "\n",
    "# „Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„Çí‰ΩúÊàê\n",
    "index = VectorStoreIndex.from_documents(all_documents)\n",
    "\n",
    "print(\"‚úÖ „Éá„Éº„Çø„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰ΩúÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚úÖ „ÇØ„Ç®„É™„Ç®„É≥„Ç∏„É≥„ÅÆ‰ΩúÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\n"
     ]
    }
   ],
   "source": [
    "from llama_index.core.retrievers import VectorIndexRetriever\n",
    "from llama_index.core.query_engine import RetrieverQueryEngine\n",
    "from llama_index.llms.openai import OpenAI\n",
    "\n",
    "llm = OpenAI(model=\"gpt-4-turbo\", system_prompt=\"„ÅÇ„Å™„Åü„ÅØÊó•Êú¨Ë™û„ÅßË©≥Á¥∞„Å™ÂõûÁ≠î„Çí„Åô„ÇãAI„Åß„Åô„ÄÇË≥™Âïè„Å´ÂØæ„Åó„Å¶„Åß„Åç„Çã„Å†„ÅëÂ§ö„Åè„ÅÆÊÉÖÂ†±„ÇíÊèê‰æõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\")\n",
    "\n",
    "retriever = VectorIndexRetriever(index=index, similarity_top_k=10)  # Ê§úÁ¥¢ÁµêÊûú„Çí5‰ª∂ÂèñÂæó\n",
    "query_engine = RetrieverQueryEngine.from_args(retriever, llm=llm,  response_mode=\"tree_summarize\")\n",
    "\n",
    "print(\"‚úÖ „ÇØ„Ç®„É™„Ç®„É≥„Ç∏„É≥„ÅÆ‰ΩúÊàê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ\")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "‚ùì Ë≥™Âïè: Áí∞Â¢ÉÁúÅ„ÅÆÈõªÂäõ‰∫ãÊ•≠„Å´Èñ¢„Åô„ÇãÂèñ„ÇäÁµÑ„Åø„ÇíÊïô„Åà„Å¶‰∏ã„Åï„ÅÑ\n",
      "üí¨ ÂõûÁ≠î: Áí∞Â¢ÉÁúÅ„ÅØ„ÄÅ2030Âπ¥Â∫¶„Åæ„Åß„Å´Ê∞ëÁîüÈÉ®ÈñÄÔºàÂÆ∂Â∫≠ÈÉ®ÈñÄÂèä„Å≥Ê•≠Âãô„Åù„ÅÆ‰ªñÈÉ®ÈñÄÔºâ„ÅÆÈõªÂäõÊ∂àË≤ª„Å´‰º¥„ÅÜCO2ÊéíÂá∫„ÅÆÂÆüË≥™„Çº„É≠„ÇíÁõÆÊåá„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆÁõÆÊ®ôÈÅîÊàê„ÅÆ„Åü„ÇÅ„Å´„ÄÅÂÖ∑‰ΩìÁöÑ„Å™Ë®àÁîª„Çí‰ΩúÊàê„Åó„ÄÅ‰∫ãÊ•≠ÂÆüÊñΩ„ÇíÈÄ≤„ÇÅ„Å¶„ÅÑ„Çã„Å®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åæ„Åü„ÄÅ„ÄåÂú∞ÂüüËÑ±ÁÇ≠Á¥†„ÅÆÊé®ÈÄ≤„ÅÆ„Åü„ÇÅ„ÅÆ‰∫§‰ªòÈáë„Äç„ÇíÈÄö„Åò„Å¶„ÄÅÂú∞Âüü„Åî„Å®„ÅÆËÑ±ÁÇ≠Á¥†Âåñ„ÇíÊîØÊè¥„Åó„Å¶„Åä„Çä„ÄÅ„Åì„ÅÆ‰∫§‰ªòÈáë„ÅÆ‰∫§‰ªòÊúüÈñì„ÅØÊ¶Ç„Å≠5Âπ¥Á®ãÂ∫¶„Åß„Åô„ÄÇ\n",
      "\n",
      "„Åï„Çâ„Å´„ÄÅÁí∞Â¢ÉÁúÅ„ÅØËÑ±ÁÇ≠Á¥†ÂÖàË°åÂú∞ÂüüÂÜÖ„Åß„ÅÆÂÜçÁîüÂèØËÉΩ„Ç®„Éç„É´„ÇÆ„Éº„ÅÆÂ∞éÂÖ•„ÇíÊé®ÈÄ≤„Åó„Å¶„Åä„Çä„ÄÅÂú∞ÂüüÂÜÖ„ÅßÁô∫Èõª„Åï„Çå„ÇãÂÜç„Ç®„ÉçÈõªÂäõÈáè„ÅÆÂâ≤Âêà„ÇíÂèØËÉΩ„Å™Èôê„ÇäÈ´ò„Åè„Åô„Çã„Åì„Å®„ÇíÁõÆÊåá„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„Å´„Çà„Çä„ÄÅ„Ç®„Éç„É´„ÇÆ„Éº‰ª£Èáë„ÅÆÂæ™Áí∞„ÇÑÈõáÁî®ÂâµÂá∫„Å™„Å©„ÄÅÂú∞ÂüüÁµåÊ∏à„ÅÆÊ¥ªÊÄßÂåñ„Å´„ÇÇÂØÑ‰∏é„Åô„Çã„Åì„Å®„ÇíÊúüÂæÖ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n",
      "\n",
      "„Åì„Çå„Çâ„ÅÆÂèñ„ÇäÁµÑ„Åø„ÅØ„ÄÅÁí∞Â¢ÉÁúÅ„ÅåÊé®ÈÄ≤„Åô„ÇãÈõªÂäõ‰∫ãÊ•≠„Å´„Åä„Åë„Çã‰∏ªË¶Å„Å™ÊñπÈáù„Åß„ÅÇ„Çä„ÄÅÊåÅÁ∂öÂèØËÉΩ„Å™Á§æ‰ºö„ÅÆÂÆüÁèæ„Å´Âêë„Åë„ÅüÈáçË¶Å„Å™„Çπ„ÉÜ„ÉÉ„Éó„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n"
     ]
    }
   ],
   "source": [
    "# Ë≥™Âïè„ÇíÊäï„Åí„Å¶„Åø„Çã\n",
    "query = \"Áí∞Â¢ÉÁúÅ„ÅÆÈõªÂäõ‰∫ãÊ•≠„Å´Èñ¢„Åô„ÇãÂèñ„ÇäÁµÑ„Åø„ÇíÊïô„Åà„Å¶‰∏ã„Åï„ÅÑ\"\n",
    "response = query_engine.query(query)\n",
    "\n",
    "# ÁµêÊûú„ÇíË°®Á§∫\n",
    "print(f\"‚ùì Ë≥™Âïè: {query}\")\n",
    "print(f\"üí¨ ÂõûÁ≠î: {response}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 96,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "üîç ÂèñÂæó„Åï„Çå„Åü„Éâ„Ç≠„É•„É°„É≥„ÉàÂÜÖÂÆπ:\n",
      "üìÑ „Éé„Éº„Éâ 1: Doc ID: 8853f289-b68e-4454-8810-b358d743deda\n",
      "Text: \"Question\": \"„ÅÑ„Åñ„Å®„ÅÑ„ÅÜ„Å®„ÅçÊµ∑‰∏äËá™Ë°õÈöä„ÅØ„Å©„ÅÜ„ÅÑ„ÅÜÊ¥ªÂãï„Çí„Åô„Çã„ÅÆÔºü\", \"Answer\": \"Êµ∑‰∏äËá™Ë°õÈöä„ÅØ„ÄÅÊàë„ÅåÂõΩÂë®Ëæ∫Êµ∑\n",
      "Âüü„ÅÆÈò≤Ë°õ„Å®Êµ∑‰∏ä‰∫§ÈÄö„ÅÆÂÆâÂÖ®Á¢∫‰øù„ÅÆ„Åü„ÇÅ„Å´„ÄÅ‰ΩúÊà¶Áî®Ëâ¶ËâáÁ¥Ñ120Èöª„ÄÅ‰ΩúÊà¶Áî®Ëà™Á©∫Ê©üÁ¥Ñ200Ê©ü„Å™„Å©„Çí‰øùÊúâ„Åó„ÄÅÊµ∑‰∏ä„Å´„Åä„Åë„ÇãÂì®Êàí„ÄÅË≠∑Ë°õ„ÄÅÊ∏ØÊπæÂèä„Å≥Êµ∑Â≥°Èò≤Ë°õ„ÅÆ„Åü\n",
      "„ÇÅ„ÅÆ‰ΩúÊà¶„Å™„Å©„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ\\r\\n\\r\\n„ÄÄËá™Ë°õËâ¶Èöä„ÅØ„ÄÅËâ¶ËâáÂèä„Å≥Ëà™Á©∫Ê©ü„ÇíÊ©üÂãïÈÅãÁî®„Åô„Çã„Åì„Å®„Å´„Çà„Å£„Å¶Êàë„ÅåÂõΩÂë®Ëæ∫ÂÖ®Âüü„ÅÆÈò≤Ë°õ„Å´ÂΩì„Åü„Çä„Åæ„Åô„ÄÇ‰∏ÄÊñπÂú∞ÊñπÈöä„ÅØ\n",
      "„ÄÅËá™Ë°õËâ¶Èöä„Å®ÂØÜÊé•„Å´ÈÄ£Êê∫„Åó„Å™„Åå„ÇâÊãÖÂΩì„Åô„ÇãË≠¶ÂÇôÂå∫Âüü„ÅÆÊµ∑‰∏äÈò≤Ë°õ„Å®ÂæåÊñπÊîØÊè¥„Å´ÂΩì„Åü„Çä„Åæ„Åô„ÄÇ\\r\\n\\r\\n„ÄÄÊàë„ÅåÂõΩÂúü„Å´ÂØæ„Åô„ÇãÁõ¥Êé•ÁöÑ„Å™ÊîªÊíÉ„ÇÑÊàë„ÅåÂõΩ„Å´ÂØæ„Åô\n",
      "„ÇãÊµ∑‰∏ä‰∫§ÈÄö„ÅÆÂ¶®ÂÆ≥„ÅÆ‰æã„Å®„Åó„Å¶„ÅØ„ÄÅ‰æµÊîªÈÉ®Èöä„ÅÆ‰∏äÈô∏„ÄÅÊΩúÊ∞¥Ëâ¶Âèà„ÅØËà™Á©∫Ê©ü„Å´„Çà„Çã„Éü„Çµ„Ç§„É´ÊîªÊíÉ„ÄÅ„Åï„Çâ„Å´„ÅØÊ©üÈõ∑„ÅÆÊï∑Ë®≠„ÇÑÊ∞¥‰∏äËâ¶Ëâá„Å´„Çà„ÇãÊîªÊíÉ„Å™„Å©„ÅåËÄÉ„Åà„Çâ„Çå„ÄÅ„Åù„Çå\n",
      "„Çâ„ÅÆËÑÖ...\n",
      "üìÑ „Éé„Éº„Éâ 2: Doc ID: d4e2a9e2-f35c-4121-881b-9970549588f8\n",
      "Text: \"Question\": \"„ÅÑ„Åñ„Å®„ÅÑ„ÅÜ„Å®„ÅçÊµ∑‰∏äËá™Ë°õÈöä„ÅØ„Å©„ÅÜ„ÅÑ„ÅÜÊ¥ªÂãï„Çí„Åô„Çã„ÅÆÔºü\", \"Answer\": \"Êµ∑‰∏äËá™Ë°õÈöä„ÅØ„ÄÅÊàë„ÅåÂõΩÂë®Ëæ∫Êµ∑\n",
      "Âüü„ÅÆÈò≤Ë°õ„Å®Êµ∑‰∏ä‰∫§ÈÄö„ÅÆÂÆâÂÖ®Á¢∫‰øù„ÅÆ„Åü„ÇÅ„Å´„ÄÅ‰ΩúÊà¶Áî®Ëâ¶ËâáÁ¥Ñ120Èöª„ÄÅ‰ΩúÊà¶Áî®Ëà™Á©∫Ê©üÁ¥Ñ200Ê©ü„Å™„Å©„Çí‰øùÊúâ„Åó„ÄÅÊµ∑‰∏ä„Å´„Åä„Åë„ÇãÂì®Êàí„ÄÅË≠∑Ë°õ„ÄÅÊ∏ØÊπæÂèä„Å≥Êµ∑Â≥°Èò≤Ë°õ„ÅÆ„Åü\n",
      "„ÇÅ„ÅÆ‰ΩúÊà¶„Å™„Å©„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ\\n\\n„ÄÄËá™Ë°õËâ¶Èöä„ÅØ„ÄÅËâ¶ËâáÂèä„Å≥Ëà™Á©∫Ê©ü„ÇíÊ©üÂãïÈÅãÁî®„Åô„Çã„Åì„Å®„Å´„Çà„Å£„Å¶Êàë„ÅåÂõΩÂë®Ëæ∫ÂÖ®Âüü„ÅÆÈò≤Ë°õ„Å´ÂΩì„Åü„Çä„Åæ„Åô„ÄÇ‰∏ÄÊñπÂú∞ÊñπÈöä„ÅØ„ÄÅËá™Ë°õËâ¶\n",
      "Èöä„Å®ÂØÜÊé•„Å´ÈÄ£Êê∫„Åó„Å™„Åå„ÇâÊãÖÂΩì„Åô„ÇãË≠¶ÂÇôÂå∫Âüü„ÅÆÊµ∑‰∏äÈò≤Ë°õ„Å®ÂæåÊñπÊîØÊè¥„Å´ÂΩì„Åü„Çä„Åæ„Åô„ÄÇ\\n\\n„ÄÄÊàë„ÅåÂõΩÂúü„Å´ÂØæ„Åô„ÇãÁõ¥Êé•ÁöÑ„Å™ÊîªÊíÉ„ÇÑÊàë„ÅåÂõΩ„Å´ÂØæ„Åô„ÇãÊµ∑‰∏ä‰∫§ÈÄö„ÅÆÂ¶®ÂÆ≥\n",
      "„ÅÆ‰æã„Å®„Åó„Å¶„ÅØ„ÄÅ‰æµÊîªÈÉ®Èöä„ÅÆ‰∏äÈô∏„ÄÅÊΩúÊ∞¥Ëâ¶Âèà„ÅØËà™Á©∫Ê©ü„Å´„Çà„Çã„Éü„Çµ„Ç§„É´ÊîªÊíÉ„ÄÅ„Åï„Çâ„Å´„ÅØÊ©üÈõ∑„ÅÆÊï∑Ë®≠„ÇÑÊ∞¥‰∏äËâ¶Ëâá„Å´„Çà„ÇãÊîªÊíÉ„Å™„Å©„ÅåËÄÉ„Åà„Çâ„Çå„ÄÅ„Åù„Çå„Çâ„ÅÆËÑÖÂ®Å„ÅÆÊÖãÊßò„Å´\n",
      "Âøú„Åò„Å¶...\n",
      "üìÑ „Éé„Éº„Éâ 3: Doc ID: a9c5292c-3852-45f5-b1d6-fa29311bdaa1\n",
      "Text: \"Question\": \"Êµ∑‰∏äËá™Ë°õÈöä„ÅØ„Å™„Çì„ÅÆ„Åü„ÇÅ„Å´„ÅÇ„Çã„ÅÆÔºü\", \"Answer\":\n",
      "\"Êàë„ÅåÂõΩ„ÅØÂõõÈù¢„ÇíÊµ∑„Å´Âõ≤„Åæ„Çå„ÅüÂ≥∂ÂõΩ„Åß„Åô„ÄÇ„Åì„Çå„ÅØ„ÄÅÊàë„ÅåÂõΩ„Å´ÂØæ„Åô„ÇãËÑÖÂ®Å„Åå„ÄÅÂ∏∏„Å´Êµ∑„ÇíÁµåÁî±„Åó„Å¶„Åè„Çã„Åì„Å®„ÇíÊÑèÂë≥„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ „Åæ„Åü„ÄÅË≥áÊ∫ê„Å´‰πè„Åó„ÅÑÊàë„ÅåÂõΩ„ÅØ„ÄÅ\n",
      "ÂõΩÊ∞ë„ÅÆÁîüÊ¥ªÂü∫Áõ§„Å®„Å™„ÇãÁâ©Ë≥á„ÅÆ„Åª„Å®„Çì„Å©„ÇíÊµ∑Â§ñ„Å´‰æùÂ≠ò„Åó„Å¶„Åä„Çä„ÄÅ„Åù„ÅÆ9Ââ≤‰ª•‰∏ä„Åå‰∏ñÁïå‰∏≠„Å´Â∫É„Åå„ÇãÊµ∑‰∏äËº∏ÈÄÅ„Å´„Çà„ÇäÈÅã„Å∞„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\\r\\n\\r\\n„ÄÄÊµ∑‰∏äËá™Ë°õ\n",
      "Èöä„ÅØ„ÄÅ„Åì„ÅÆ„Çà„ÅÜ„Å™Âú∞ÁêÜÁöÑ„ÉªÁµåÊ∏àÁöÑÁâπÊÄß„ÇíË∏è„Åæ„Åà„ÄÅÊµ∑‰∏ä„Åã„Çâ„ÅÆ‰æµÁï•„Å´ÂØæ„ÅóÊàë„ÅåÂõΩÂúü„ÇíÈò≤Ë°õ„Åô„Çã„Å®„Å®„ÇÇ„Å´„ÄÅÊàë„ÅåÂõΩÂë®Ëæ∫Êµ∑Âüü„Å´„Åä„Åë„ÇãÊµ∑‰∏ä‰∫§ÈÄö„ÅÆÂÆâÂÖ®„ÇíÁ¢∫‰øù„Åô„Çã„Åì\n",
      "„Å®„Çí‰∏ª‰ªªÂãô„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\\r\\n„ÄÄ„Åæ„Åü„ÄÅÂπ≥Êàê7Âπ¥11Êúà„Å´Èñ£Ë≠∞Ê±∫ÂÆö„Åï„Çå„Åü„ÄåÈò≤Ë°õË®àÁîª„ÅÆÂ§ßÁ∂±„Äç„Åß„ÅØ„ÄÅÊñ∞„Åü„Å™ÂΩπÂâ≤„Å®„Åó„Å¶„ÄÅ„ÄåÂ§ßË¶èÊ®°ÁÅΩÂÆ≥„Å™„Å©ÂêÑÁ®Æ„ÅÆ‰∫ãÊÖã„Å∏\n",
      "„ÅÆÂØæÂøú„ÄçÂèä„Å≥„Äå„Çà„ÇäÂÆâÂÆö„Åó„ÅüÂÆâÂÖ®‰øùÈöúÁí∞Â¢É„ÅÆÊßãÁØâ„Å∏„ÅÆË≤¢...\n",
      "üìÑ „Éé„Éº„Éâ 4: Doc ID: 6e8dd38b-788d-4c11-bb33-7dd415d4f803\n",
      "Text: \"Question\": \"„Å©„ÅÆ„Çà„ÅÜ„Å™Á†î‰øÆÂà∂Â∫¶„Åå„ÅÇ„Çä„Åæ„Åô„Åã\", \"Answer\": \"Êµ∑‰∏ä‰øùÂÆâÂ∫Å„ÅÆ‰∏ª„Å™Á†î‰øÆÂà∂Â∫¶„ÅØ‰ª•‰∏ã„ÅÆ„Å®„Åä„Çä„Åß„Åô„ÄÇ\n",
      "\\nÊµ∑‰∏ä‰øùÂÆâÂ§ßÂ≠¶Ê†°Áâπ‰øÆÁßëÊµ∑‰∏ä‰øùÂÆâÂ≠¶Ê†°ÂçíÊ•≠ËÄÖ„ÉªÈñÄÂè∏ÂàÜÊ†°‰øÆ‰∫ÜÁîü„ÇíÂØæË±°„Å®„Åó„ÅüÂ∞ÜÊù•„ÅÆÂππÈÉ®ÂÄôË£úÁîü„ÇíÈ§äÊàê„Åô„ÇãÁ†î‰øÆ„Åß„Åô„ÄÇ‰∏ÄÂÆöÊúüÈñìÁèæÂ†¥„Åß‰ªï‰∫ã„Çí„Åó„ÅüÂæå„ÄÅÈÅ∏Êäú„Åï\n",
      "„Çå„ÅüËÅ∑Âì°„Åå„ÄÅÂàùÁ¥öÂππÈÉ®„Å®„Åó„Å¶ÂøÖË¶Å„Å™Á¥†È§ä„ÇíË∫´„Å´„Å§„Åë„Åæ„Åô\\nÊΩúÊ∞¥Á†î‰øÆÊµ∑Èõ£‰∫ãÊïÖ„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„Å´„ÄÅËª¢Ë¶ÜËàπËà∂Á≠â„Å´Âèñ„ÇäÊÆã„Åï„Çå„ÅüÊñπ„ÅÆÊïëÂá∫„ÇÑÊºÇÊµÅËÄÖ„ÅÆÊïëÂä©Á≠â„Å´„ÅÇ\n",
      "„Åü„ÇãÊΩúÊ∞¥Â£´„ÇíÈ§äÊàê„Åô„ÇãÁ†î‰øÆ„Åß„Åô„ÄÇÁ¥Ñ2„ÅãÊúà„Å´„Çè„Åü„ÇãÁ†î‰øÆ„ÉªË®ìÁ∑¥„Åß„ÅØ„ÄÅÊΩúÊ∞¥Ê•≠Âãô„Å´ÂøÖË¶Å„Å™Áü•Ë≠ò„ÉªÊäÄË°ì„ÄÅËª¢Ë¶ÜËàπ„ÇíÊÉ≥ÂÆö„Åó„ÅüÊïëÂä©Ê¥ªÂãïÁ≠â„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ\\nË™ûÂ≠¶Á†î‰øÆ\n",
      "Â§ñÂõΩ‰∫∫ÁäØÁΩ™„ÅÆÊçúÊüª„ÇíË°å„ÅÜ„Åü„ÇÅ„ÄÅÊçúÊüª„Å´ÂøÖË¶Å„Å™Ë™ûÂ≠¶„ÅÆ‰øÆÂæó„ÇíË°å„ÅÜÁ†î‰øÆ„Åß„Åô„ÄÇÁ†î‰øÆ‰øÆ‰∫ÜÂæåÂõΩÈöõÊçúÊüªÂÆòÁ≠â„Å®„Åó„Å¶ÁäØÁΩ™ÊçúÊüªÁ≠â„ÅÆÊ•≠Âãô„Å´Âæì‰∫ã„Åó„Åæ„Åô„ÄÇ\\n„Åª„Å®„Çì„Å©„ÅÆÊµ∑\n",
      "‰∏ä...\n",
      "üìÑ „Éé„Éº„Éâ 5: Doc ID: 9395843d-682d-414d-bf80-4c22e1e6ac47\n",
      "Text: \"Question\": \"„Å©„ÅÆ„Çà„ÅÜ„Å™ÊéàÊ•≠„Åå„ÅÇ„Çä„Åæ„Åô„Åã\", \"Answer\":\n",
      "\"Êµ∑‰∏ä‰øùÂÆâÂ≠¶Ê†°„ÅØ„ÄÅ„Äå‰∏ÄËà¨Ë™≤Á®ã„Äç„ÄåËà™Á©∫Ë™≤Á®ã„Äç„ÄåÊµ∑Ê¥ãÁßëÂ≠¶Ë™≤Á®ã„Äç„ÄåÁÆ°Âà∂Ë™≤Á®ã„Äç„ÅÆÔºîË™≤Á®ã„Åå„ÅÇ„Çä„ÄÅ„Åù„Çå„Åû„ÇåÂ∞ÇÈñÄ„ÅÆÊéàÊ•≠„ÇíË°å„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\",\n",
      "\"copyright\": \"Êµ∑‰∏ä‰øùÂÆâÂ∫Å\", \"url\":\n",
      "\"https://www.kaiho.mlit.go.jp/recruitment/faq/jcgs.html\"\n",
      "üìÑ „Éé„Éº„Éâ 6: Doc ID: fae6c310-e944-4c50-8e70-366af5a8a395\n",
      "Text: \"Question\": \"Êµ∑‰∏äËá™Ë°õÈöä„ÅØ„Å™„Çì„ÅÆ„Åü„ÇÅ„Å´„ÅÇ„Çã„ÅÆÔºü\", \"Answer\":\n",
      "\"Êàë„ÅåÂõΩ„ÅØÂõõÈù¢„ÇíÊµ∑„Å´Âõ≤„Åæ„Çå„ÅüÂ≥∂ÂõΩ„Åß„Åô„ÄÇ„Åì„Çå„ÅØ„ÄÅÊàë„ÅåÂõΩ„Å´ÂØæ„Åô„ÇãËÑÖÂ®Å„Åå„ÄÅÂ∏∏„Å´Êµ∑„ÇíÁµåÁî±„Åó„Å¶„Åè„Çã„Åì„Å®„ÇíÊÑèÂë≥„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ „Åæ„Åü„ÄÅË≥áÊ∫ê„Å´‰πè„Åó„ÅÑÊàë„ÅåÂõΩ„ÅØ„ÄÅ\n",
      "ÂõΩÊ∞ë„ÅÆÁîüÊ¥ªÂü∫Áõ§„Å®„Å™„ÇãÁâ©Ë≥á„ÅÆ„Åª„Å®„Çì„Å©„ÇíÊµ∑Â§ñ„Å´‰æùÂ≠ò„Åó„Å¶„Åä„Çä„ÄÅ„Åù„ÅÆ9Ââ≤‰ª•‰∏ä„Åå‰∏ñÁïå‰∏≠„Å´Â∫É„Åå„ÇãÊµ∑‰∏äËº∏ÈÄÅ„Å´„Çà„ÇäÈÅã„Å∞„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\\n\\n„ÄÄÊµ∑‰∏äËá™Ë°õÈöä„ÅØ„ÄÅ„Åì\n",
      "„ÅÆ„Çà„ÅÜ„Å™Âú∞ÁêÜÁöÑ„ÉªÁµåÊ∏àÁöÑÁâπÊÄß„ÇíË∏è„Åæ„Åà„ÄÅÊµ∑‰∏ä„Åã„Çâ„ÅÆ‰æµÁï•„Å´ÂØæ„ÅóÊàë„ÅåÂõΩÂúü„ÇíÈò≤Ë°õ„Åô„Çã„Å®„Å®„ÇÇ„Å´„ÄÅÊàë„ÅåÂõΩÂë®Ëæ∫Êµ∑Âüü„Å´„Åä„Åë„ÇãÊµ∑‰∏ä‰∫§ÈÄö„ÅÆÂÆâÂÖ®„ÇíÁ¢∫‰øù„Åô„Çã„Åì„Å®„Çí‰∏ª‰ªª\n",
      "Âãô„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\\n„ÄÄ„Åæ„Åü„ÄÅÂπ≥Êàê7Âπ¥11Êúà„Å´Èñ£Ë≠∞Ê±∫ÂÆö„Åï„Çå„Åü„ÄåÈò≤Ë°õË®àÁîª„ÅÆÂ§ßÁ∂±„Äç„Åß„ÅØ„ÄÅÊñ∞„Åü„Å™ÂΩπÂâ≤„Å®„Åó„Å¶„ÄÅ„ÄåÂ§ßË¶èÊ®°ÁÅΩÂÆ≥„Å™„Å©ÂêÑÁ®Æ„ÅÆ‰∫ãÊÖã„Å∏„ÅÆÂØæÂøú„ÄçÂèä„Å≥\n",
      "„Äå„Çà„ÇäÂÆâÂÆö„Åó„ÅüÂÆâÂÖ®‰øùÈöúÁí∞Â¢É„ÅÆÊßãÁØâ„Å∏„ÅÆË≤¢ÁåÆ„Äç„ÅåÂä†„Åà„Çâ...\n",
      "üìÑ „Éé„Éº„Éâ 7: Doc ID: 4de81a09-cd03-4c61-91b5-df40bf4e4517\n",
      "Text: \"Question\": \"„Å©„ÅÆ„Çà„ÅÜ„Å™„Ç´„É™„Ç≠„É•„É©„É†„Åå„ÅÇ„Çä„Åæ„Åô„Åã\", \"Answer\": \"Êµ∑‰∏ä‰øùÂÆâÂ∫Å„ÅÆÂππÈÉ®ËÅ∑Âì°„ÇíÈ§äÊàê„Åô„Çã„Åü„ÇÅ„ÄÅÂêàË®à\n",
      "ÔºíÂπ¥Èñì„ÅÆÁ†î‰øÆ„ÇíÂèó„Åë„Çã„Åì„Å®„Å®„Å™„Çä„ÄÅÂππÈÉ®Êµ∑‰∏ä‰øùÂÆâÂÆò„Å®„Åó„Å¶„ÄÅË§áÈõëÂåñ„ÉªÂõΩÈöõÂåñ„Åó„Å¶„ÅÑ„ÇãÊµ∑‰∏ä‰øùÂÆâÊ•≠Âãô„Å´ÂØæÂøú„Åô„Çã„Åü„ÇÅ„Å´ÂøÖË¶Å„Å™È´òÂ∫¶„Å™Â∞ÇÈñÄËÉΩÂäõ„ÇíË∫´„Å´‰ªò„Åë„Çã„Å®„Å®\n",
      "„ÇÇ„Å´„ÄÅËà™Êµ∑Âèà„ÅØÊ©üÈñ¢„ÅÆÂêÑÂ∞ÇÊîª„Å´ÂàÜ„Åã„Çå„ÄÅÊµ∑ÊäÄÂÖçÁä∂„ÇíÂèñÂæó„Åô„Çã„Åü„ÇÅ„Å´ÂøÖË¶Å„Å™Êµ∑‰∫ãÁ≥ª„ÅÆÂ∞ÇÈñÄÁöÑ„Å™Áü•Ë≠ò„ÇíÁøíÂæó„Åó„Åæ„Åô„ÄÇÔºàÔºëÂπ¥ÁõÆ„ÅØ„ÄÅÊµ∑‰∏ä‰øùÂÆâÂÆò„Å®„Åó„Å¶ÂøÖË¶Å„Å™Âü∫Á§éÁöÑ\n",
      "Áü•Ë≠ò„ÉªÊäÄËÉΩ‰∏¶„Å≥„Å´Êµ∑ÊäÄÂÖçÁä∂„ÇíÂèñÂæó„Åô„Çã„Åü„ÇÅ„ÅÆÁ†î‰øÆ„ÄÇÔºíÂπ¥ÁõÆ„ÅØ„ÄÅÂππÈÉ®Êµ∑‰∏ä‰øùÂÆâÂÆò„Å´ÂøÖË¶Å„Å™È´òÂ∫¶„ÅÆÁü•Ë≠ò„ÉªÊäÄËÉΩ„ÇíÁøíÂæó„Åô„Çã„Åü„ÇÅ„ÅÆÁ†î‰øÆ„ÄÇ‰πóËàπÂÆüÁøíÁ≠â„ÇÇÂÆüÊñΩ„ÄÇÔºâ„Å™„Åä\n",
      "„ÄÅ‰ª§ÂíåÔºñÂπ¥Â∫¶‰ª•Èôç„ÅÆÂàù‰ªªÁßëÂÖ•Â≠¶Áîü„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅÔºíÂπ¥Èñì„ÅÆÁ†î‰øÆ‰øÆ‰∫ÜÂæå„ÅØ„ÄÅÊú¨ÁßëÁîü„Å®ÂêåÊßò„ÄÅÂ∞ÇÊîªÁßëÔºàÔºñ„ÅãÊúàÔºâÂèä„Å≥Á†î‰øÆÁßëÂõΩÈöõÊ•≠ÂãôË™≤Á®ãÔºàÔºì„ÅãÊúàÔºâ„Å´ÈÄ≤„Åø„ÄÅ‰∏ñÁïå‰∏Ä\n",
      "Âë®„ÅÆÈÅ†...\n",
      "üìÑ „Éé„Éº„Éâ 8: Doc ID: 7076b80d-9c2c-43a7-a426-8adfecaa432e\n",
      "Text: \"Question\": \"„Å©„ÅÆ„Çà„ÅÜ„Å™Ë®ìÁ∑¥„ÅåË°å„Çè„Çå„Åæ„Åô„Åã\", \"Answer\": \"Á∑èÂêàÊåáÊèÆÔºàÂü∫Êú¨Âãï‰Ωú„ÄÅÁµ±ÁéáÁÆ°ÁêÜÔºâË®ìÁ∑¥„ÄÅÈò≤ÁÅ´Ë®ìÁ∑¥„ÄÅ\n",
      "Á´ØËâáÔºà„Ç´„ÉÉ„Çø„ÉºÔºâË®ìÁ∑¥„ÄÅÊ∞¥Ê≥≥Ë®ìÁ∑¥„ÄÅÈÄÆÊçïË°ìË®ìÁ∑¥„ÄÅÊã≥ÈäÉË®ìÁ∑¥Á≠â„ÅåÂÆüÊñΩ„Åï„Çå„Åæ„Åô„ÄÇÂ§èÊúü‰ºëÊöáÔºàÂ§è‰ºë„ÅøÔºâÂâç„Å´„ÅØ„ÄÅÊµ∑„Åß„ÅÆÈÅ†Ê≥≥Ë®ìÁ∑¥„ÅåË°å„Çè„Çå„ÄÅÂàù‰ªªÁßëÔºëÂπ¥ÁõÆ„Å´Ôºì„Éû„Ç§\n",
      "„É´ÔºàÁ¥ÑÔºïÔºéÔºñÔΩãÔΩçÔºâ„ÇíÊ≥≥„Åé„Åæ„Åô„ÄÇÔºëÊúà„Å´„ÅØ„ÄÅËÄêÂØíË®ìÁ∑¥ÔºàÁ´ØËâá„ÄÅÈÄÆÊçïË°ì„ÄÅÈï∑Ë∑ùÈõ¢Ëµ∞Ôºâ„ÅåË°å„Çè„Çå„Åæ„Åô„ÄÇ\", \"copyright\": \"Êµ∑‰∏ä‰øùÂÆâÂ∫Å\",\n",
      "\"url\": \"https://www.kaiho.mlit.go.jp/recruitment/faq/examination.html\"\n",
      "üìÑ „Éé„Éº„Éâ 9: Doc ID: 99c670f0-1b7c-41c9-ba19-7412e8662874\n",
      "Text: \"Question\": \"Êµ∑‰∏äËá™Ë°õÈöä„Å£„Å¶„Å©„Åì„Å´„ÅÇ„Çã„ÅÆÔºü\", \"Answer\":\n",
      "\"Êµ∑‰∏äËá™Ë°õÈöä„ÅÆÁ∑®ÊàêÂèä„Å≥ÈÉ®ÈöäÈÖçÁΩÆ„ÄÅ‰∏ª„Å™ÈÉ®ÈöäÁ≠â„Å´„Å§„ÅÑ„Å¶„ÄÅ„Åì„Å°„Çâ„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ\", \"copyright\": \"Êµ∑‰∏äËá™Ë°õÈöä\", \"url\":\n",
      "\"https://www.mod.go.jp/msdf/faq/\"\n",
      "üìÑ „Éé„Éº„Éâ 10: Doc ID: 04564240-b70b-41b8-877e-c4ce23236976\n",
      "Text: \"Question\": \"Êµ∑‰∏ä‰øùÂÆâÂ≠¶Ê†°„ÇíÂçíÊ•≠„Åô„Çã„Å®„Å©„ÅÆ„Çà„ÅÜ„Å™‰ªï‰∫ã„Çí„Åô„Çã„ÅÆ„Åß„Åô„Åã\", \"Answer\": \"„Äê‰∏ÄËà¨Ë™≤Á®ãÔºàËà™Êµ∑„ÉªÊ©üÈñ¢\n",
      "„ÉªÈÄö‰ø°„Éª‰∏ªË®àÔºâ„ÄëÊé°Áî®ÊôÇ„Å´Ê±∫ÂÆö„Åï„Çå„ÇãÈÖçÂ±û‰∫àÂÆöÁÆ°Âå∫ÔºàÁ¨¨‰∏ÄÁÆ°Âå∫ÔΩûÁ¨¨ÂçÅ‰∏ÄÁÆ°Âå∫ÔºâÂÜÖ„ÅÆÂ∑°Ë¶ñËàπËâáÁ≠â„Å´ÈÖçÂ±û„Åï„Çå„ÄÅ„Åù„ÅÆÂæå„ÇÇÂêå‰∏ÄÁÆ°Âå∫ÂÜÖ„ÅÆËàπËâá„ÇÑÊµ∑‰∏ä‰øùÂÆâÈÉ®Á≠â„ÅÆÈô∏‰∏ä\n",
      "‰∫ãÂãôÊâÄ„Å´ÈÖçÂ±û„Åï„Çå„Åæ„Åô„ÄÇ„Äê‰∏ÄËà¨Ë™≤Á®ãÔºàËà™Á©∫Êï¥ÂÇôÔºâ„ÄëËà™Á©∫Êï¥ÂÇôÂ£´„ÇíÈ§äÊàê„Åô„Çã„Ç≥„Éº„Çπ„Åß„ÄÅÂÖ®ÂõΩËª¢Âã§„Å®„Å™„Çä„Åæ„Åô„ÄÇÂ≠¶Ê†°ÂçíÊ•≠Âæå„ÄÅ„Éò„É™„Ç≥„Éó„Çø„ÉºÊê≠ËºâÂûãÂ∑°Ë¶ñËàπ„ÇÑËà™Á©∫Âü∫\n",
      "Âú∞„Å´„Å¶Á¥ÑÔºíÂπ¥Èñì„ÅÆÁèæÂ†¥ÁµåÈ®ì„ÇíÁµå„ÅüÂæå„ÄÅÊµ∑‰∏ä‰øùÂÆâÂ≠¶Ê†°ÂÆÆÂüéÂàÜÊ†°„ÅßÁ¥ÑÔºëÂπ¥2„ÅãÊúà„ÅÆÁ†î‰øÆ„ÇíÂèó„Åë„ÄÅ‰∫åÁ≠âËà™Á©∫Êï¥ÂÇôÂ£´ÔºàÂõûËª¢ÁøºËà™Á©∫Ê©üÔºâ„ÅÆË≥áÊ†ºÂèñÂæó„ÇíÁõÆÊåá„Åó„Åæ„Åô„ÄÇ‰∏ÄËà¨\n",
      "Ë™≤Á®ã„ÅÆ‰ªñ„Ç≥„Éº„Çπ„ÅÆ„Çà„ÅÜ„Å´ÊΩúÊ∞¥Â£´„ÄÅÂõΩÈöõÊçúÊüªÂÆòÁ≠â„ÅÆÈÅì„Å´ÈÄ≤„ÇÄ„Åì„Å®„ÅØÂü∫Êú¨ÁöÑ„Å´„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„ÄêËà™Á©∫Ë™≤Á®ã„Äë„Éë„Ç§„É≠„ÉÉ„Éà„ÇíÈ§äÊàê„Åô„Çã„Ç≥„Éº„Çπ„Åß„ÄÅÂÖ®ÂõΩËª¢Âã§„Åß„Åô„ÄÇÂ≠¶Ê†°\n",
      "ÂçíÊ•≠Âæå...\n"
     ]
    }
   ],
   "source": [
    "# üîç Ê§úÁ¥¢„Åï„Çå„Åü„Éé„Éº„Éâ„ÅÆÊÉÖÂ†±„ÇíÁ¢∫Ë™ç\n",
    "retrieved_nodes = retriever.retrieve(\"Êµ∑‰∏äËá™Ë°õÈöä„ÅÆ„Éó„É≠„Ç∞„É©„É†„Å´„ÅØ„Å©„Çì„Å™„ÅÆ„Åå„ÅÇ„Çã„ÅÆ\")\n",
    "\n",
    "print(\"üîç ÂèñÂæó„Åï„Çå„Åü„Éâ„Ç≠„É•„É°„É≥„ÉàÂÜÖÂÆπ:\")\n",
    "for idx, node in enumerate(retrieved_nodes):\n",
    "    print(f\"üìÑ „Éé„Éº„Éâ {idx+1}: {node.text[:500]}\")  # ÂÖàÈ†≠500ÊñáÂ≠ó„ÇíË°®Á§∫\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
